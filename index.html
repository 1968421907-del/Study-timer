function startTimer(seconds, newPhase) {
  clearInterval(intervalId);
  remainingSeconds = seconds;
  phase = newPhase;
  timerEl.textContent = formatTime(remainingSeconds);

  if (phase === 'study') {
    phaseEl.textContent = 'Studying';
    setBackgroundColor();
    playStudyVideo();
  } else {
    phaseEl.textContent = 'Break time';
    document.body.style.backgroundColor = '#f5f5f5';
    stopStudyVideo();
  }

  intervalId = setInterval(() => {
    remainingSeconds--;
    timerEl.textContent = formatTime(remainingSeconds);

    if (remainingSeconds <= 0) {
      clearInterval(intervalId);

      if (phase === 'study') {
        stopStudyVideo();
        breakSection.classList.remove('hidden');
        phaseEl.textContent = 'Choose a break time';
      } else {
        // âœ… break JUST hit 00:00
        playBreakEndVideo();
        startTimer(currentStudyMinutes * 60, 'study');
      }
    }
  }, 1000);
}
